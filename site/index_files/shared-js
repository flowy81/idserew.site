function getQuerystring(n,t){t===null&&(t="");n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+n+"=([^&#]*)"),i=r.exec(window.location.href);return i===null?t:i[1]}function detectHistorySupport(){return window.history&&history.pushState}function validateNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)?n:"0"}function updateProductCount(){var n=0;$j("div.product_list ul li.p:visible").each(function(){n=n+1});$j("span.productcount").html(n);$j("span.noneavailable").hide();n===0&&$j("span.noneavailable").show();filterProductFilters(n)}function filterProductFilters(n){$j(".productFilters .filterItem a").each(function(){selector="."+$j(this).attr("data-filter");selector!==".opening-"&&selector!=="."&&($j("div.product_list ul li"+selector+":visible").length===0?($j(this).addClass("off"),$j(this).parent().addClass("off")):($j(this).removeClass("off"),$j(this).parent().removeClass("off")))});n!==0&&$j(".productFilters .filterItem ul.filterList").each(function(){$j(this).children().length===$j(this).children("li.off").length&&$j(this).children("li.off").length>0?$j(this).parent().parent().parent().addClass("off"):$j(this).parent().parent().parent().removeClass("off")})}function setFireplaceOpeningFilter(n,t,i){$j("#FireplaceOpeningHeight").val(n);$j("#FireplaceOpeningWidth").val(t);$j("#FireplaceOpeningDepth").val(i);HHTSitecore.services.HHTSessionService.SaveFireplaceOpeningFilterParameters(document.URL,n,t,i,null)}function applyFireplaceOpeningFilter(n,t,i){setFireplaceOpeningFilter(n,t,i);$j("div.product_list ul li").each(function(){for(var r=$j(this).attr("class").split(" "),u,f=0;f<r.length;f++)if(u=r[f],u.substring(0,8)==="opening-"){u=u.replace("opening-","");r=u.split("-");var e=r[0],o=r[1],s=r[2];(Number(e)>Number(n)||Number(o)>Number(t)||Number(s)>Number(i))&&$j(this).hide()}});$j(".productFilters .filterItem a").each(function(){$j(this).hasClass("applyFireplaceOpening")&&$j(this).hide();$j(this).hasClass("clearFireplaceOpening")&&$j(this).show()});$j(".fireplaceOpeningInput").hide();$j(".fireplaceOpeningMessage").show()}function removeFilterBreadcrumb(n){n==="Fireplace Opening"?ProductFilter.clearFireplaceOpeningFilter():($j(".productFilters .filterItem a.selected").each(function(){$j(this).attr("breadcrumb")===n&&$j(this).removeClass("selected")}),applyProductFilters())}function applyProductFilters(){var i=validateNumber($j("#FireplaceOpeningHeight").val()),r=validateNumber($j("#FireplaceOpeningWidth").val()),u=validateNumber($j("#FireplaceOpeningDepth").val()),f=!1,e="",n,t;$j(".productFilters .filterItem button span").each(function(){$j(this).html("")});$j(".productFilters .filterItem a.selected").length>0?(n="",t="#",$j(".productFilters .filterItem a.selected").each(function(){$j(this).hasClass("clearFireplaceOpening")||(n+="."+$j(this).attr("data-filter"),t+="/"+$j(this).attr("data-filter"),$j(this).attr("data-filter")=="opening-"&&(f=!0),e+="<a onclick=\"removeFilterBreadcrumb('"+$j(this).attr("breadcrumb")+"')\"><em><\/em>"+$j(this).attr("breadcrumb")+"<\/a>");$j(this).parent().parent().parent().parent().children("button").children("span").html($j(this).attr("breadcrumb"))}),t=t.replace("opening-","opening-"+i+"-"+r+"-"+u),n=n.replace(".opening-",""),n!=""?($j("div.product_list ul li"+n).not(":visible").show().addClass("active"),$j("div.product_list ul li:visible").not(n).hide().removeClass("active")):$j("div.product_list ul li").show().addClass("active"),f&&applyFireplaceOpeningFilter(i,r,u)):$j("div.product_list ul li").show().addClass("active");$j(".filterBreadcrumb").html(e);loadProductList();updateProductCount()}function loadProductList(){var n=$j("#gallery").masonry({itemSelector:"li.p",columnWidth:400})}function GetCurrentSite(){return window.location.href.indexOf("hearthnhome")>=0?"hearthnhome":window.location.href.indexOf("fireside")>=0?"fireside":window.location.href.indexOf("heatilatorpro")>=0?"heatilatorpro":window.location.href.indexOf("heatilator")>=0?"heatilator":window.location.href.indexOf("heatnglopro")>=0?"heatnglopro":"fireplaces"}var ProductFilter,InternationalSearch;window.Modernizr=function(n,t,i){function a(n){y.cssText=n}function f(n,t){return typeof n===t}function g(n,t){return!!~(""+n).indexOf(t)}function nt(n,t){var u,r;for(u in n)if(r=n[u],!g(r,"-")&&y[r]!==i)return t=="pfx"?r:!0;return!1}function ft(n,t,r){var e,u;for(e in n)if(u=t[n[e]],u!==i)return r===!1?n[e]:f(u,"function")?u.bind(r||t):u;return!1}function e(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+rt.join(r+" ")+r).split(" ");return f(t,"string")||f(t,"undefined")?nt(u,t):(u=(n+" "+ut.join(r+" ")+r).split(" "),ft(u,t,i))}var r={},v=!0,o=t.documentElement,s="modernizr",tt=t.createElement(s),y=tt.style,et,ht={}.toString,h=" -webkit- -moz- -o- -ms- ".split(" "),it="Webkit Moz O ms",rt=it.split(" "),ut=it.toLowerCase().split(" "),u={},p=[],w=p.slice,c,b=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),h=t.body,e=h||t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:s+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',s,'">',n,"<\/style>"].join(""),f.id=s,(h?f:e).innerHTML+=l,e.appendChild(f),h||(e.style.background="",e.style.overflow="hidden",v=o.style.overflow,o.style.overflow="hidden",o.appendChild(e)),a=i(f,n),h?f.parentNode.removeChild(f):(e.parentNode.removeChild(e),o.style.overflow=v),!!a},ot=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t)&&i(t).matches||!1:(b("@media "+t+" { #"+s+" { position: absolute; } }",function(t){r=(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position=="absolute"}),r)},st=function(){function n(n,u){u=u||t.createElement(r[n]||"div");n="on"+n;var e=n in u;return e||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(n,""),e=f(u[n],"function"),f(u[n],"undefined")||(u[n]=i),u.removeAttribute(n))),u=null,e}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n}(),k={}.hasOwnProperty,d,l;d=!f(k,"undefined")&&!f(k.call,"undefined")?function(n,t){return k.call(n,t)}:function(n,t){return t in n&&f(n.constructor.prototype[t],"undefined")};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=w.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(w.call(arguments))),Object(u)===u?u:e):t.apply(n,i.concat(w.call(arguments)))},r});u.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:b(["@media (",h.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=n.offsetTop===9}),i};u.geolocation=function(){return"geolocation"in navigator};u.backgroundsize=function(){return e("backgroundSize")};u.cssanimations=function(){return e("animationName")};u.csscolumns=function(){return e("columnCount")};u.cssgradients=function(){var n="background-image:";return a((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+h.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),g(y.backgroundImage,"gradient")};u.csstransforms=function(){return!!e("transform")};u.csstransitions=function(){return e("transition")};u.video=function(){var i=t.createElement("video"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n};for(l in u)d(u,l)&&(c=l.toLowerCase(),r[c]=u[l](),p.push((r[c]?"":"no-")+c));return r.addTest=function(n,t){if(typeof n=="object")for(var u in n)d(n,u)&&r.addTest(u,n[u]);else{if(n=n.toLowerCase(),r[n]!==i)return r;t=typeof t=="function"?t():t;typeof v!="undefined"&&v&&(o.className+=" "+(t?"":"no-")+n);r[n]=t}return r},a(""),tt=et=null,r._version="2.8.3",r._prefixes=h,r._domPrefixes=ut,r._cssomPrefixes=rt,r.mq=ot,r.hasEvent=st,r.testProp=function(n){return nt([n])},r.testAllProps=e,r.testStyles=b,r.prefixed=function(n,t,i){return t?e(n,t,i):e(n,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(v?" js "+p.join(" "):""),r}(this,this.document),function(n,t){function c(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function u(){var n=i.elements;return typeof n=="string"?n.split(" "):n}function f(n){var t=p[n[y]];return t||(t={},h++,n[y]=h,p[h]=t),t}function l(n,i,u){if(i||(i=t),r)return i.createElement(n);u||(u=f(i));var e;return e=u.cache[n]?u.cache[n].cloneNode():it.test(n)?(u.cache[n]=u.createElem(n)).cloneNode():u.createElem(n),e.canHaveChildren&&!tt.test(n)&&!e.tagUrn?u.frag.appendChild(e):e}function w(n,i){if(n||(n=t),r)return n.createDocumentFragment();i=i||f(n);for(var o=i.frag.cloneNode(),e=0,s=u(),h=s.length;e<h;e++)o.createElement(s[e]);return o}function b(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(r){return i.shivMethods?l(r,n,t):t.createElem(r)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+u().join().replace(/\w+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(i,t.frag)}function a(n){n||(n=t);var u=f(n);return i.shivCSS&&!s&&!u.hasCSS&&(u.hasCSS=!!c(n,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),r||b(n,u),n}function k(n){for(var t,i=n.getElementsByTagName("*"),r=i.length,e=RegExp("^(?:"+u().join("|")+")$","i"),f=[];r--;)t=i[r],e.test(t.nodeName)&&f.push(t.applyElement(d(t)));return f}function d(n){for(var t,r=n.attributes,u=r.length,i=n.ownerDocument.createElement(e+":"+n.nodeName);u--;)t=r[u],t.specified&&i.setAttribute(t.nodeName,t.nodeValue);return i.style.cssText=n.style.cssText,i}function g(n){for(var t,i=n.split("{"),r=i.length,f=RegExp("(^|[\\s,>+~])("+u().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),o="$1"+e+"\\:$2";r--;)t=i[r]=i[r].split("}"),t[t.length-1]=t[t.length-1].replace(f,o),i[r]=t.join("}");return i.join("{")}function nt(n){for(var t=n.length;t--;)n[t].removeNode()}function v(n){function r(){clearTimeout(i._removeSheetTimer);t&&t.removeNode(!0);t=null}var t,u,i=f(n),o=n.namespaces,s=n.parentWindow;return!ut||n.printShived?n:(typeof o[e]=="undefined"&&o.add(e),s.attachEvent("onbeforeprint",function(){r();for(var o,s,f,l=n.styleSheets,e=[],i=l.length,h=Array(i);i--;)h[i]=l[i];while(f=h.pop())if(!f.disabled&&rt.test(f.media)){try{o=f.imports;s=o.length}catch(a){s=0}for(i=0;i<s;i++)h.push(o[i]);try{e.push(f.cssText)}catch(a){}}e=g(e.reverse().join(""));u=k(n);t=c(n,e)}),s.attachEvent("onafterprint",function(){nt(u);clearTimeout(i._removeSheetTimer);i._removeSheetTimer=setTimeout(r,500)}),n.printShived=!0,n)}var o=n.html5||{},tt=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,it=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s,y="_html5shiv",h=0,p={},r,i;(function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";s="hidden"in n;r=n.childNodes.length==1||function(){t.createElement("a");var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()}catch(i){s=!0;r=!0}})();i={elements:o.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:o.shivCSS!==!1,supportsUnknownElements:r,shivMethods:o.shivMethods!==!1,type:"default",shivDocument:a,createElement:l,createDocumentFragment:w};n.html5=i;a(t);var rt=/^$|\b(?:all|print)\b/,e="html5shiv",ut=!r&&function(){var i=t.documentElement;return typeof t.namespaces!="undefined"&&typeof t.parentWindow!="undefined"&&typeof i.applyElement!="undefined"&&typeof i.removeNode!="undefined"&&typeof n.attachEvent!="undefined"}();i.type+=" print";i.shivPrint=v;v(t)}(this,document),function(n,t){var i=n.navigator&&navigator.userAgent||"",r=t.createElement("div");Modernizr.addTest({ie8:function(){return r.innerHTML="<!--[if IE 8]>x<![endif]-->",r.innerHTML==="x"},ie9:function(){return r.innerHTML="<!--[if IE 9]>x<![endif]-->",r.innerHTML==="x"},msie:function(){return t.documentMode},webkit:function(){return/webkit\W/i.test(i)},safari:function(){return/Constructor/.test(n.HTMLElement)},firefox:function(){return/mozilla.*\Wfirefox\W/i.test(i)},mobile:function(){return/(iphone|ipod|((?:android)?.*?mobile)|blackberry|nokia)/i.test(i)},tablet:function(){return/(ipad|android(?!.*mobile)|tablet)/i.test(i)},android:function(){return i.indexOf("android")>-1},retina:function(){var t=n.devicePixelRatio||n.screen.deviceXDPI/n.screen.logicalXDPI||1;return!!(t>1)}})}(window,document),function(n){function i(i,r){function h(t){var u=n(t);return r.globalNav?u:i.parent().find(t)}var u=this,o=n(this),y=!r.vertical,s=i.children(),f=0,e,a,v;t||(t=u);n.each(r,function(t,i){n.isFunction(i)&&o.bind(t,i)});s.length>1&&(s=n(r.items,i));i.data("finder",h);var p=h(r.prev),c=h(r.next),w=h(r.prevPage),l=h(r.nextPage);n.extend(u,{getIndex:function(){return f},getClickIndex:function(){var n=u.getItems();return n.index(n.filter("."+r.activeClass))},getConf:function(){return r},getSize:function(){return u.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/r.size)},getPageIndex:function(){return Math.ceil(f/r.size)},getNaviButtons:function(){return p.add(c).add(w).add(l)},getRoot:function(){return i},getItemWrap:function(){return s},getItems:function(){return s.children(r.item)},getVisibleItems:function(){return u.getItems().slice(f,f+r.size)},seekTo:function(i,e,h){function b(){h&&h.call(u,i);o.trigger("onSeek",[i])}var v,a;return(i<0&&(i=0),f===i)?u:(n.isFunction(e)&&(h=e),i>u.getSize()-r.size)?r.loop?u.begin():this.end():(v=u.getItems().eq(i),!v.length)?u:(a=n.Event("onBeforeSeek"),o.trigger(a,[i]),a.isDefaultPrevented())?u:((e===undefined||n.isFunction(e))&&(e=r.speed),y?s.animate({left:-v.position().left},e,r.easing,b):s.animate({top:-v.position().top},e,r.easing,b),t=u,f=i,a=n.Event("onStart"),o.trigger(a,[i]),a.isDefaultPrevented())?u:(p.add(w).toggleClass(r.disabledClass,i===0),c.add(l).toggleClass(r.disabledClass,i>=u.getSize()-r.size),u)},move:function(n,t,i){return e=n>0,this.seekTo(f+n,t,i)},next:function(n,t){return this.move(1,n,t)},prev:function(n,t){return this.move(-1,n,t)},movePage:function(n,t,i){e=n>0;var o=r.size*n,u=f%r.size;return u>0&&(o+=n>0?-u:r.size-u),this.move(o,t,i)},prevPage:function(n,t){return this.movePage(-1,n,t)},nextPage:function(n,t){return this.movePage(1,n,t)},setPage:function(n,t,i){return this.seekTo(n*r.size,t,i)},begin:function(n,t){return e=!1,this.seekTo(0,n,t)},end:function(n,t){e=!0;var i=this.getSize()-r.size;return i>0?this.seekTo(i,n,t):u},reload:function(){return o.trigger("onReload"),u},focus:function(){return t=u,u},click:function(n){var s=u.getItems().eq(n),t=r.activeClass,i=r.size,h,o;return n<0||n>=u.getSize()?u:i==1?r.loop?u.next():((n===0||n==u.getSize()-1)&&(e=e===undefined?!0:!e),e===!1?u.prev():u.next()):i==2?(n==f&&n--,u.getItems().removeClass(t),s.addClass(t),u.seekTo(n,time,fn)):!s.hasClass(t)&&(u.getItems().removeClass(t),s.addClass(t),h=Math.floor(i/2),o=n-h,o>u.getSize()-i&&(o=u.getSize()-i),o!==n)?u.seekTo(o):u},bind:function(n,t){return o.bind(n,t),u},unbind:function(n){return o.unbind(n),u}});n.each("onBeforeSeek,onStart,onSeek,onReload".split(","),function(n,t){u[t]=function(n){return u.bind(t,n)}});p.addClass(r.disabledClass).click(function(){u.prev()});c.click(function(){u.next()});l.click(function(){u.nextPage()});u.getSize()<r.size&&c.add(l).addClass(r.disabledClass);w.addClass(r.disabledClass).click(function(){u.prevPage()});a=r.hoverClass;v="keydown."+Math.random().toString().substring(10);u.onReload(function(){a&&u.getItems().hover(function(){n(this).addClass(a)},function(){n(this).removeClass(a)});r.clickable&&u.getItems().each(function(t){n(this).unbind("click.scrollable").bind("click.scrollable",function(i){if(!n(i.target).is("a"))return u.click(t)})});r.keyboard?n(document).unbind(v).bind(v,function(n){if(!n.altKey&&!n.ctrlKey&&(r.keyboard=="static"||t==u)){var i=r.keyboardSteps;return y&&(n.keyCode==37||n.keyCode==39)?(u.move(n.keyCode==37?-i:i),n.preventDefault()):!y&&(n.keyCode==38||n.keyCode==40)?(u.move(n.keyCode==38?-i:i),n.preventDefault()):!0}}):n(document).unbind(v)});u.reload()}n.tools=n.tools||{};n.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:!1,speed:400,keyboard:!0,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:!0,activeClass:"active",easing:"swing",loop:!1,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:!1}};var t;n.fn.scrollable=function(t){var r=this.eq(typeof t=="number"?t:0).data("scrollable"),u;return r?r:(u=n.extend({},n.tools.scrollable.conf),t=n.extend(u,t),t.keyboardSteps=t.keyboardSteps||t.size,this.each(function(){r=new i(n(this),t);n(this).data("scrollable",r)}),t.api?r:this)}}(jQuery),function(n){var t=n.tools.scrollable;t.plugins=t.plugins||{};t.plugins.circular={version:"0.5.1",conf:{api:!1,clonedClass:"cloned"}};n.fn.circular=function(i){var r=n.extend({},t.plugins.circular.conf),u;return n.extend(r,i),this.each(function(){function l(n){var i=s.eq(n);t.vertical?o.css({top:-i.position().top}):o.css({left:-i.position().left})}var i=n(this).scrollable(),e=i.getItems(),t=i.getConf(),o=i.getItemWrap(),f=0,c,s,h;if(i&&(u=i),e.length<t.size)return!1;e.slice(0,t.size).each(function(t){n(this).clone().appendTo(o).click(function(){i.click(e.length+t)}).addClass(r.clonedClass)});c=n.makeArray(e.slice(-t.size)).reverse();n(c).each(function(t){n(this).clone().prependTo(o).click(function(){i.click(-t-1)}).addClass(r.clonedClass)});s=o.children(t.item);h=t.hoverClass;h&&s.hover(function(){n(this).addClass(h)},function(){n(this).removeClass(h)});l(t.size);n.extend(i,{move:function(n,r,u,o){var h=f+n+t.size,a=h>i.getSize()-t.size,c;return((h<=0||a)&&(c=f+t.size+(a?-e.length:e.length),l(c),h=c+n),o&&s.removeClass(t.activeClass).eq(h+Math.floor(t.size/2)).addClass(t.activeClass),h===f+t.size)?self:i.seekTo(h,r,u)},begin:function(n,i){return this.seekTo(t.size,n,i)},end:function(n,t){return this.seekTo(e.length,n,t)},click:function(n,i,r){if(!t.clickable)return self;if(t.size==1)return this.next();var u=n-f,e=t.activeClass;return u-=Math.floor(t.size/2),this.move(u,i,r,!0)},getIndex:function(){return f},setPage:function(n,i,r){return this.seekTo(n*t.size+t.size,i,r)},getPageAmount:function(){return Math.ceil(e.length/t.size)},getPageIndex:function(){if(f<0)return this.getPageAmount()-1;if(f>=e.length)return 0;return(f+t.size)/t.size-1},getVisibleItems:function(){var n=f+t.size;return s.slice(n,n+t.size)}});i.onStart(function(n,i){return f=i-t.size,!1});i.getNaviButtons().removeClass(t.disabledClass)}),r.api?u:this}}(jQuery),function(n){var t=n.tools.scrollable;t.plugins=t.plugins||{};t.plugins.navigator={version:"1.0.2",conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:!1,api:!1,idPrefix:null}};n.fn.navigator=function(i){var u=n.extend({},t.plugins.navigator.conf),r;return typeof i=="string"&&(i={navi:i}),i=n.extend(u,i),this.each(function(){function o(){if(u.children().length&&u.data("navi")!=t)f=i.naviItem?u.find(i.naviItem):u.children(),f.each(function(i){var r=n(this);r.click(function(n){return t.setPage(i),n.preventDefault()})});else{u.empty();u.data("navi",t);for(var r=0;r<t.getPageAmount();r++)u.append(n("<"+(i.naviItem||"a")+"/>"));f=u.children().each(function(r){var u=n(this);u.click(function(n){return t.setPage(r),n.preventDefault()});i.indexed&&u.text(r);i.idPrefix&&u.attr("id",i.idPrefix+r)})}f.eq(0).addClass(i.activeClass)}var t=n(this).scrollable(),s=t.getRoot(),u=s.data("finder").call(null,i.navi),f=null,h=t.getNaviButtons(),e;t&&(r=t);t.getNaviButtons=function(){return h.add(u)};t.onStart(function(){var n=i.activeClass;f.removeClass(n).eq(t.getPageIndex()).addClass(n)});t.onReload(function(){o()});o();e=f.filter("[href="+location.hash+"]");e.length&&t.move(f.index(e))}),i.api?r:this}}(jQuery);var $j=jQuery.noConflict(),JsSession={loadSessionJson:function(){var n=$j("#jssessionjson").html();return $j.parseJSON(n)},testJsonLoad:function(){var n=JsSession.loadSessionJson();alert("JSON loaded. SessionID: "+n.sessionid)},testServiceCall:function(){var n=JsSession.loadSessionJson(),t={testattribute:"test attribute value",webapisession:n};alert("Session loaded. SessionID: "+n.sessionid);$j.ajax({type:"POST",data:JSON.stringify(t),url:"/api/WebAPISessionTests",contentType:"application/json",success:function(n){alert("call succeeded");n.success?alert("Message: "+n.message):alert(n.message)},error:function(n,t){alert(t+":"+n.responseText)}})}},Validate={email:function(n){return filter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,filter.test(n)?!0:!1},isUSPostal:function(n){return filter=/^\d{5}(-\d{4})?$/,filter.test(n)?!0:!1},isCanadianPostal:function(n){return filter=/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/,filter.test(n)?!0:!1},isPostal:function(n){return filter=/(^\d{5}(-\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$)/,filter.test(n)?!0:!1}},Mask={phoneMask:function(n){var t=n.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);n.value=t[2]?"("+t[1]+") "+t[2]+(t[3]?"-"+t[3]:""):t[1]}};$j(document).ready(function(){$j("FORM").bind("keypress",function(e){var key=e.charCode?e.charCode:e.keyCode?e.keyCode:0,target=e.target.tagName.toLowerCase(),parentFieldset,classnames,i,button,h;if(key===13&&target==="input"&&(e.preventDefault(),parentFieldset=$j(e.target).parents('[class*="submit-form-"]'),parentFieldset.length>0))for(classnames=parentFieldset.attr("class").split(" "),i=0;i<classnames.length;i++)if(classnames[i].substring(0,12)==="submit-form-"){button=$j("a."+classnames[i]+", button."+classnames[i],$j(this)).eq(0);button.length>0&&(typeof button.get(0).onclick=="function"?button.trigger("click"):button.attr("href")?(h=button.attr("href"),h.substring(0,11)==="javascript:"?eval(h.substring(11)):window.location=h):button.trigger("click"));break}})});Newsletter={submit:function(n,t){var i={Fullname:"",Email:n,IsBuilder:t};$j.ajax({type:"POST",url:"/api/action/Lead/SubmitNewsletterRequest",data:JSON.stringify(i),contentType:"application/json",success:function(n){if(n.success)$j("#divNewsletterRequest").hide(),$j("#divNewsletterThankYou").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("newsletter_submit_success");else{HHTGTM.pushFormSuccessGTMTrackingEvent("newsletter_submit_fail");$j("#divNewsletterError").html("Check your email address and try again.");$j("#divNewsletterError").show()}},error:function(n,t){HHTGTM.pushFormSuccessGTMTrackingEvent("newsletter_submit_systemfail");alert(t+":"+n.responseText)}})}};AskAHearthExpert={submit:function(n,t,i,r){var u=JsSession.loadSessionJson(),f={Name:n,Email:t,Message:i,Zip:r,webapisession:u};$j.ajax({type:"POST",data:JSON.stringify(f),url:"/api/action/Lead/SubmitAskAHearthExpertRequest",contentType:"application/json",success:function(n){if(n.success)$j("#divAskHearthExpertEntry").hide(),$j("#divAskHearthExpertThankYou").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("askahearthexpert_submit_success");else{HHTGTM.pushFormSuccessGTMTrackingEvent("askahearthexpert_submit_fail");$j("#divAskHearthExpertError").html("Please check your settings and try again.");$j("#divAskHearthExpertError").show()}},error:function(){HHTGTM.pushFormSuccessGTMTrackingEvent("askahearthexpert_submit_systemfail");alert("Please check your entries and try again.")}})}};var GasCostCalculator={loadBTUs:function(){var n=$("[id$='dlProducts']").val();$("[id$='txtBTUs']").val(n);GasCostCalculator.calculateCost()},calculateCost:function(){var e,o,n,f;if($("#cost_NG").text("$0"),$("#cost_LP").text("$0"),$("#operating_cost").text("$0"),e=$("[id$='txtBTUs']").val(),o=$("#ddlGasCalculatorFuelType").val(),this.validate(e)){var t=$("[id$='txtBTUsNG']").val(),i=$("[id$='txtBTUsLP']").val(),r=$("[id$='txtPriceNG']").val(),u=$("[id$='txtPriceLP']").val();$("#btus_ng").text(t);$("#btus_lp").text(i);$("#price_ng").text(r);$("#price_lp").text(u);t=parseInt(t.replace(",",""));i=parseInt(i.replace(",",""));r=parseFloat(r.replace("$","").replace(",",""));u=parseFloat(u.replace("$","").replace(",",""));n=parseInt(e.replace(",",""));$("#hours_ng").text(Number(n/t).toFixed(2));$("#hours_lp").text(Number(n/i).toFixed(2));$("#cost_ng").text("$"+Number(r*(n/t)).toFixed(2));$("#cost_lp").text("$"+Number(u*(n/i)).toFixed(2));f=0;o==="NG"&&(f=Number(r*(n/t)).toFixed(2));o==="LP"&&(f=Number(u*(n/i)).toFixed(2));$("#operating_cost").text("$"+f)}},resetFields:function(){$("[id$='txtBTUs']").val("");$("[id$='dlProducts']").val("");$("#ddlGasCalculatorFuelType").val("");GasCostCalculator.calculateCost()},validate:function(n){return n===""?!1:!0}},FuelCalculator={calculateUsage:function(){var n=$("#txtPelletCalculatorArea").val(),t=$("#ddlPelletCalculatorFuelType").val(),u=$("[id$='ddlCalculatorState']").val(),i=$("[id$='ddlEfficiency']").val(),f=$("[id$='txtPricePellet']").val(),e=$("[id$='txtPriceFuelOil']").val(),o=$("[id$='txtPriceElectricity']").val(),s=$("[id$='txtPricePropane']").val(),h=$("[id$='txtPriceNaturalGas']").val(),c=$("[id$='ddlPriceIncrease']").val(),r;this.validate(n,t,i)?(r={area:n,fueltype:t,stateCode:u,efficiencyLevel:i,pricePellet:f,priceFuelOil:e,priceElectricity:o,pricePropane:s,priceNaturalGas:h,increasePercentage:c},$j.ajax({type:"POST",data:JSON.stringify(r),url:"/api/Calculator",contentType:"application/json",success:function(n){n.success&&$("#annual_savings").text("$"+n.AnnualSavings)},error:function(n,t){alert(t+":"+n.responseText)}})):$("#annual_savings").text("$0")},validate:function(n,t,i){return isNaN(n)?!1:t===""?!1:i===""?!1:!0}},InstallManual={open:function(n){var t=window.open(n,"_blank");(t===null||typeof t=="undefined")&&(window.location=n)}},FileSelect={open:function(n){var t=window.open(n,"_blank");(t===null||typeof t=="undefined")&&(window.location=n)}},ProductCatalog={loadFilters:function(){var t,n,o,r;$j(".productFilters .filterItem a").each(function(){}).click(function(){return $j(this).hasClass("off")||($j(this).hasClass("selected")?($j(this).removeClass("selected"),$j(this).parent().removeClass("selected")):($j(this).parents("ul.filterList").find("a.selected").parent().removeClass("selected"),$j(this).parents("ul.filterList").find("a.selected").removeClass("selected"),$j(this).addClass("selected"),$j(this).parent().addClass("selected")),$j(this).hasClass("clearFireplaceOpening")||$j(this).attr("data-filter")=="room-size-custom"||applyProductFilters()),!1});var u="",f="",e="";if(window.location.hash!==""){if(t=window.location.hash.split("/"),t.length>1)for(i in t)n=t[i].toString(),$j(".productFilters .filterItem a").each(function(){$j(this).attr("data-filter")==n&&($j(this).addClass("selected"),$j(this).parent().addClass("selected"));n.substring(0,8)=="opening-"&&$j(this).attr("data-filter").substring(0,8)=="opening-"&&$j(this).addClass("selected")}),n.substring(0,8)==="opening-"&&(o=n.replace("opening-",""),r=o.split("-"),u=r[0],f=r[1],e=r[2]);setFireplaceOpeningFilter(u,f,e)}applyProductFilters();$j(".productFilters .filterItem a").each(function(){$j(this).hasClass("clearFireplaceOpening")||(selector="."+$j(this).attr("data-filter"),selector!=".opening-"&&$j("div.product_list ul li"+selector).length==0&&($j(this).hide(),$j("li"+selector).hide(),$j(".infoBox ."+$j(this).attr("data-filter")).length!=0&&$j(".infoBox ."+$j(this).attr("data-filter")).hide()))});$j(".productFilters .filterItem ul.filterList").each(function(){$j(this).addClass("filters-"+($j(this).children().length-$j(this).children("li.off").length))});$j(".productFilters").length==0&&$j(".clearFilter").hide()}};ProductFilter={clearProductFilter:function(){$j(".productFilters .filterItem a").each(function(){$j(this).removeClass("selected");$j(this).parent().removeClass("selected")});applyProductFilters()},clearFireplaceOpeningFilter:function(){var n=$j("#FireplaceOpeningHeight").val(),t=$j("#FireplaceOpeningWidth").val(),i=$j("#FireplaceOpeningDepth").val();setFireplaceOpeningFilter("","","");$j(".productFilters .filterItem a").each(function(){$j(this).hasClass("applyFireplaceOpening")&&$j(this).removeClass("selected");$j(this).hasClass("applyFireplaceOpening")&&$j(this).show();$j(this).hasClass("clearFireplaceOpening")&&$j(this).removeClass("selected");$j(this).hasClass("clearFireplaceOpening")&&$j(this).hide()});applyProductFilters();setFireplaceOpeningFilter(n,t,i);$j(".fireplaceOpeningInput").show();$j(".fireplaceOpeningMessage").hide()}};InternationalSearch={toggleResults:function(){$j("#divDealerResultsOpen").toggle();$j("#divDealerResultsClosed").toggle()},toggleContacts:function(){$j("#divContactsOpen").toggle();$j("#divContactsClosed").toggle()}};var EventTracking={trackEvent:function(n,t,i,r){var u=t,f=r.toLowerCase();f.indexOf("landing-pages")>0&&(u="LP_"+t);ga("send","event",n,u,i);ga("Master.send","event",n,u,i)},couponThankYou:function(){var n=$j("[id$='TrackingCode']").get(0);n&&n.click()},loadBing:function(n){var t,i;document.getElementById("divTrackingScript")?t=document.getElementById("divTrackingScript"):(t=document.body.appendChild(document.createElement("div")),t.id="divTrackingScript",t.style.display="none");i=document.createElement("script");i.text='(function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:"'+n+'"};o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,"script","//bat.bing.com/bat.js","uetq");';t.appendChild(i)}},ProLunchLearn={validate:function(n,t,i){var r="";return n===""&&(r+="<br>Please complete the Name field."),t===""?r+="<br>Please enter a valid email address.":Validate.email(t)||(r+="<br>Please enter a valid email address."),i===0&&(r+="<br>Please select at least one course."),r!==""?($j("#divProLunchLearnErrors").html(r),$j("#divProLunchLearnErrors").show(),!1):!0},submit:function(n,t,i,r,u,f){for(var e="",a=document.getElementById(f),s=a.getElementsByTagName("input"),h=0,c,l,o=0;o<s.length;o++)s[o].checked&&(h++,e+=s[o].value+", ");e!==""&&(e=e.substring(0,e.length-2));this.validate(n,t,h)&&(c=JsSession.loadSessionJson(),l={Name:n,Email:t,Company:i,Phone:r,Learners:u,SelectedCourses:e,webapisession:c},$j.ajax({type:"POST",url:"/api/action/HHTService/SubmitProLunchLearnRequest",data:JSON.stringify(l),contentType:"application/json",success:function(n){n.success?($j(".divProLunchLearnEntry").hide(),$j(".divProLunchLearnThanks").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("prolunchlearn_submit_success")):(HHTGTM.pushFormSuccessGTMTrackingEvent("prolunchlearn_submit_fail"),$j("#divProLunchLearnErrors").html(n.message),$j("#divProLunchLearnErrors").show())},error:function(n,t){HHTGTM.pushFormSuccessGTMTrackingEvent("prolunchlearn_submit_systemfail");alert(t+":"+n.responseText)}}))}},ProEventRegistration={validate:function(n,t){var i="";return n===""&&(i+="<br>Please complete the Name field."),t===""?i+="<br>Please enter a valid email address.":Validate.email(t)||(i+="<br>Please enter a valid email address."),i!==""?($j("#divProEventRegistrationErrors").html(i),$j("#divProEventRegistrationErrors").show(),!1):!0},submit:function(n,t,i,r){for(var u="",h=document.getElementById(r),e=h.getElementsByTagName("input"),c=0,o,s,f=0;f<e.length;f++)e[f].checked&&(c++,u+=e[f].value+", ");u!==""&&(u=u.substring(0,u.length-2));this.validate(n,i)&&(o=JsSession.loadSessionJson(),s={Name:n,Company:t,Email:i,SelectedCredits:u,webapisession:o},$j.ajax({type:"POST",url:"/api/action/HHTService/SubmitProEventRegistrationRequest",data:JSON.stringify(s),contentType:"application/json",success:function(n){n.success?($j(".divProEventRegistrationEntry").hide(),$j(".divProEventRegistrationThanks").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("proeventregistration_submit_success")):(HHTGTM.pushFormSuccessGTMTrackingEvent("proeventregistration_submit_fail"),$j("#divProEventRegistrationErrors").html(n.message),$j("#divProEventRegistrationErrors").show())},error:function(n,t){HHTGTM.pushFormSuccessGTMTrackingEvent("proeventregistration_submit_systemfail");alert(t+":"+n.responseText)}}))}},ProHelpDesk={validate:function(n,t,i,r,u,f,e){var o="";return n===""&&(o+="<br>Please complete the Name field."),t===""?o+="<br>Please enter a valid email address.":Validate.email(t)||(o+="<br>Please enter a valid email address."),r===""&&(o+="<br>Please enter a company name."),u===""&&(o+="<br>Please enter a valid phone number."),f===""&&(o+="<br>Please enter a project name."),e===""&&(o+="<br>Please enter a project location."),i===""&&(o+="<br>Please provide your question."),o!==""?($j("#divProHelpDeskErrors").html(o),$j("#divProHelpDeskErrors").show(),!1):!0},submit:function(n,t,i,r,u,f,e,o,s,h,c){var l=document.getElementById(c).value,y=e?"Builder":o?"Architect":s?"Designer":h?"Remodeler":"",a,v;this.validate(n,i,l,r,u,f)&&(a=JsSession.loadSessionJson(),v={Name:n,Company:t,Email:i,Phone:r,ProjectName:u,ProjectLocation:f,CustomerType:y,Inquiry:l,webapisession:a},$j.ajax({type:"POST",url:"/api/action/HHTService/SubmitProHelpDeskRequest",data:JSON.stringify(v),contentType:"application/json",success:function(n){n.success?($j(".divProHelpDeskEntry").hide(),$j(".divProHelpDeskThanks").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("prohelpdesk_submit_success")):(HHTGTM.pushFormSuccessGTMTrackingEvent("prohelpdesk_submit_fail"),$j("#divProHelpDeskErrors").html(n.message),$j("#divProHelpDeskErrors").show())},error:function(n,t){HHTGTM.pushFormSuccessGTMTrackingEvent("prohelpdesk_submit_systemfail");alert(t+":"+n.responseText)}}))}},ProMailingList={validate:function(n){var t="";return n===""?t+="<br>Please enter a valid email address.":Validate.email(n)?t="":t+="<br>Please enter a valid email address.",t!==""?($j("#divProMailingListErrors").html(t),$j("#divProMailingListErrors").show(),!1):!0},submit:function(n,t,i,r,u,f){var s=i?"Builder":r?"Architect":u?"Designer":f?"Remodeler":"",e,o;this.validate(t)&&(e=JsSession.loadSessionJson(),o={Name:n,Email:t,CustomerType:s,webapisession:e},$j.ajax({type:"POST",url:"/api/action/HHTService/SubmitProMailingListSignUp",data:JSON.stringify(o),contentType:"application/json",success:function(n){n.success?($j(".divProMailingListEntry").hide(),$j(".divProMailingListThanks").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("promailinglist_submit_success")):(HHTGTM.pushFormSuccessGTMTrackingEvent("promailinglist_submit_fail"),$j("#divProMailingListErrors").html(n.message),$j("#divProMailingListErrors").show())},error:function(n,t){HHTGTM.pushFormSuccessGTMTrackingEvent("promailinglist_submit_systemfail");alert(t+":"+n.responseText)}}))}},ProScheduleIBSVisit={validate:function(n,t,i,r,u){var f="";return n===""&&(f+="<br>Please enter a contact name."),t===""&&(f+="<br>Please enter a company name."),i===""?f+="<br>Please enter a valid email address.":Validate.email(i)||(f+="<br>Please enter a valid email address."),r===""&&(f+="<br>Please provide a first preferred date and time."),u===""&&(f+="<br>Please provide a second preferred date and time."),f!==""?($j("#divProScheduleIBSVisitErrors").html(f),$j("#divProScheduleIBSVisitErrors").show(),!1):!0},submit:function(n,t,i,r,u,f,e,o,s,h,c){var v=u?"Builder":f?"Architect":e?"Designer":o?"Remodeler":"",l,a;this.validate(n,t,i,s,h)&&(l=JsSession.loadSessionJson(),a={Name:n,Company:t,Email:i,Phone:r,CustomerType:v,FirstPreference:s,SecondPreference:h,Comments:c,webapisession:l},$j.ajax({type:"POST",url:"/api/action/HHTService/SubmitProScheduleIBSVisitRequest",data:JSON.stringify(a),contentType:"application/json",success:function(n){n.success?($j(".divProScheduleIBSVisitEntry").hide(),$j(".divProScheduleIBSVisitThanks").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("proscheduleibsvisit_submit_success")):(HHTGTM.pushFormSuccessGTMTrackingEvent("proscheduleibsvisit_submit_fail"),$j("#divProScheduleIBSVisitErrors").html(n.message),$j("#divProScheduleIBSVisitErrors").show())},error:function(n,t){HHTGTM.pushFormSuccessGTMTrackingEvent("proscheduleibsvisit_submit_systemfail");alert(t+":"+n.responseText)}}))}},EmailContent={show:function(n,t){$j.ajax({type:"POST",url:"/api/action/HHTService/LoadEmailContentPopup?description="+n+"&url="+t,contentType:"application/json",success:function(n){GlobalPopup.setPopup(n)},error:function(n,t){alert(t+":"+n.responseText)}})},send:function(){var n=JsSession.loadSessionJson(),t=$j("#EmailContentEmailAddress").val(),i=$j("#EmailContentEmailSubject").val(),r=$j("#EmailContentEmailBody").val(),u=$j("#EmailContentSenderAddress").val(),f=$j("#EmailContent_url").html(),e={To:t,From:u,Subject:i,Message:r,Url:f,webapisession:n};$j.ajax({type:"POST",url:"/api/action/HHTService/EmailContent",data:JSON.stringify(e),contentType:"application/json",success:function(n){n.success?MessageBox.show("Email Content",n.message):GlobalPopup.setError(n.message)},error:function(n,t){alert(t+":"+n.responseText)}})}},GlobalPopup={setPopup:function(n){$j("#global_popup_placeholder").html(n)},closePopup:function(){$j("#global_popup_placeholder").html("")},setError:function(n){n.indexOf("<ul>")===-1&&(n="<ul><li>"+n+"<\/li><\/ul>");$j("#ErrorPanelMessage").html(n)}},MessageBox={show:function(n,t){$j.ajax({type:"POST",url:"/api/action/HHTService/BuildMessageBox?title="+n+"&message="+t,contentType:"application/json",success:function(n){GlobalPopup.setPopup(n)},error:function(n,t){alert(t+":"+n.responseText)}})}},NewsletterPopup={showSignup:function(){$j.ajax({type:"POST",url:"/api/action/HHTService/LoadNewsletterSignup",contentType:"application/json",success:function(n){GlobalPopup.setPopup(n)},error:function(n,t){alert(t+":"+n.responseText)}})},closePopup:function(){GlobalPopup.closePopup()},submit:function(){var n=$j("#NewsletterRegistrationName").val(),t=$j("#NewsletterRegistrationEmail").val(),u=$j("#NewsletterRegistrationConsumer:checked").val()==="on",i=$j("#NewsletterRegistrationBuilder:checked").val()==="on",r={Fullname:n,Email:t,IsBuilder:i};$j.ajax({type:"POST",url:"/api/action/HHTService/JoinNewsletter",data:JSON.stringify(r),contentType:"application/json",success:function(n){n.success?(NewsletterPopup.closePopup(),HHTGTM.pushFormSuccessGTMTrackingEvent("newsletterpopup_submit_success")):(HHTGTM.pushFormSuccessGTMTrackingEvent("newsletterpopup_submit_fail"),$j("#NewsletterRegistrationError").html(n.HTML))},error:function(n,t){HHTGTM.pushFormSuccessGTMTrackingEvent("newsletterpopup_submit_systemfail");alert(t+":"+n.responseText)}})}},Coupon={CloseCoupon:function(){$j(".couponpopup").hide();document.cookie="timedcouponpopup=viewed"},ShowButton:function(){$j("#msg-processing").hide();$j("#coupon-submit").show()},SaveCouponRequest:function(n,t,i,r,u,f,e,o,s,h,c,l){var a=this.validate(i,r,u,f,e),y=JsSession.loadSessionJson(),v;a||Coupon.ShowButton();a&&(v={CouponItemID:n,Leadsource:t,Firstname:i,Lastname:r,Email:u,Phone:f,Postal:e,City:o,State:s,Country:h,DealerID:c,Brands:l,RawUrl:document.URL,WebApiSession:y},$j.ajax({type:"POST",data:JSON.stringify(v),url:"/api/action/CouponLead/SaveCouponRequest",contentType:"application/json",success:function(n){n.isThankYou&&EventTracking.trackEvent("Leads","Submit","Coupon","");$j("#Coupon_Enter").hide();$j("#CouponEntryForm").hide();$j(".CouponEntryPopup").hide();$j("#CouponMessagePopup").show();$j("#CouponMessageHeadline").html(n.messageHeadline);$j("#CouponMessageBody").html(n.messageBody);n.status?(EventTracking.couponThankYou(),HHTGTM.pushFormSuccessGTMTrackingEvent("coupon_submit_success")):(Coupon.ShowButton(),HHTGTM.pushFormSuccessGTMTrackingEvent("coupon_submit_fail"))},error:function(n,t){Coupon.ShowButton();HHTGTM.pushFormSuccessGTMTrackingEvent("coupon_submit_systemfail");alert(t+":"+n.responseText);$j("#divLPCouponError").text=n.responseText}}))},validate:function(n,t,i,r,u){var f="";return(f=n===""?"Please complete the First Name field":t===""?"Please complete the Last Name field":i!==""&&/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(i)?r===""?"Please complete the Phone field":u===""?"Please complete the Zip Code field":"":"Please enter a valid email address",f!=="")?(alert(f),!1):!0}},FooterWidget={closeWidget:function(){$j("#footerWidget").hide();HHTSitecore.services.HHTSessionService.CloseFooterWidget(this.onResult.bind(this),this.onResult.bind(this))},onResult:function(){}},Survey={typeLocation:"",popupID:"",textID:"",complete:!1,surveyID:"",loadPopupSurvey:function(n){if(n.indexOf("landing-page")<0&&this.surveyID==="")$j.ajax({type:"POST",url:"/api/action/Surveys/LoadDefault",contentType:"application/json",success:function(n){n.html!==""&&($j("#divSurveyPopupText").html(n.html),$j("#divSurveyPopup").show(),$j("#survey_slide").html(n.slidehtml))},error:function(n,t){alert(t+":"+n.responseText)}})},loadSlide:function(n){var t=$j(".current_survey_id").html(),i={SurveyID:t,Index:n};$j.ajax({type:"POST",data:JSON.stringify(i),url:"/api/action/Surveys/LoadSlide",contentType:"application/json",success:function(n){n.html!==""&&$j("#survey_slide").html(result.html)},error:function(n,t){alert(t+":"+n.responseText)}})},saveAnswer:function(n,t,i,r,u,f){var e=$j(".current_survey_id").html(),o=$j("#sid").html(),s={surveyItemID:e,questionItemID:n,questionValue:t,answerItemID:i,answerValue:r,selected:u,removeOthers:f,sessionid:o};$j.ajax({type:"POST",data:JSON.stringify(s),url:"/api/action/Surveys/SaveResponse",contentType:"application/json",success:function(){},error:function(n,t){alert(t+":"+n.responseText)}})},closeSurvey:function(){$j("#divSurveyPopup").hide()}};QuickQuoteSyndicated={submit:function(n){var t=JsSession.loadSessionJson(),i=$j("#txtQuoteName").val(),r=$j("#txtQuoteEmail").val(),u=$j("#txtQuotePhone").val(),f=$j("#txtQuoteZip").val(),e=$j("#txtQuoteMessage").val(),o=$j("#chkQuoteJoin:checked").val()==="on",s=$j("#QuoteDealerID").html(),h=$j("#QuoteSelectedProductID").html(),c=$j("#ddlWhenToPurchase").val(),l={DealerID:s,ProductID:h,Name:i,Email:r,Phone:u,Zip:f,Message:e,WhenToPurchase:c,Newsletter:o,Syndicated:!0,Source:n,webapisession:t};$j.ajax({type:"POST",data:JSON.stringify(l),url:"/api/action/QuoteLead/SubmitQuote",contentType:"application/json",success:function(n){n.success?(MessageBox.show("Request a Quote",n.message),$j("#divSyndicatedRequestQuote").hide(),HHTGTM.pushFormSuccessGTMTrackingEvent("quickquotesyndicated_submit_success")):(HHTGTM.pushFormSuccessGTMTrackingEvent("quickquotesyndicated_submit_fail"),MessageBox.show("Request a Quote",n.message),$j("#divSyndicatedRequestQuote").hide())},error:function(){HHTGTM.pushFormSuccessGTMTrackingEvent("quickquotesyndicated_submit_systemfail");alert("Please check your entries and try again.")}})}};QuickQuote={showButton:function(){$j("#msg-processing").hide();$j("#quickquote-submit").show()},submit:function(n){var t=JsSession.loadSessionJson(),i=$j("#txtQuoteFirstName").val(),r=$j("#txtQuoteLastName").val(),u=$j("#txtQuoteEmail").val(),f=$j("#txtQuotePhone").val(),e=$j("#txtQuoteZip").val(),o=$j("#txtQuoteMessage").val(),s=$j("#ddlYourProject option:selected").text(),h={DealerID:"",ProductID:"",Firstname:i,Lastname:r,Email:u,Phone:f,Zip:e,Message:o,YourProject:s,Source:n,webapisession:t};$j.ajax({type:"POST",data:JSON.stringify(h),url:"/api/action/QuoteLead/SubmitQuote",contentType:"application/json",success:function(n){n.success?($j("#divQuoteEntry").hide(),$j("#divQuoteResult").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("quickquote_submit_success")):(QuickQuote.showButton(),$j("#divQuoteErrorsHTML").html(n.message),$j("#divQuoteErrors").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("quickquote_submit_fail"))},error:function(){QuickQuote.showButton();alert("Please check your entries and try again.");HHTGTM.pushFormSuccessGTMTrackingEvent("quickquote_submit_systemfail")}})}};HHTGTM={pushFormSuccessGTMTrackingEvent:function(n){var t=JsSession.loadSessionJson();t.debugtracking===!0&&alert("GTM Tracking: formSubmissionSuccess|"+n);window.dataLayer=window.dataLayer||[];window.dataLayer.push({event:"formSubmissionSuccess",formId:n})}};ContactPopup={load:function(n){var t=document.getElementById("Title-"+n);return $j("#contact-popup-title").html(t.innerHTML),t=document.getElementById("Headline-"+n),$j("#contact-popup-headline").html(t.innerHTML),$j(".ContactPopupEntry").each(function(){$j(this).show()}),!1},submit:function(n,t,i,r,u,f){var e=JsSession.loadSessionJson(),o={FirstName:n,LastName:t,Email:i,Phone:r,Zip:u,WhatCanWeHelpWIth:f,LeadSource:"ContactUsPopup",webapisession:e};$j.ajax({type:"POST",data:JSON.stringify(o),url:"/api/action/ContactLead/SubmitContact",contentType:"application/json",success:function(n){n.success?($j("#divContactPopupEntry").hide(),$j("#divContactPopupResult").show(),$j("#divContactPopupErrorsHTML").html(""),$j("#contact-popup-headline").html(""),HHTGTM.pushFormSuccessGTMTrackingEvent("contact_submit_success")):($j("#divContactPopupErrorsHTML").html(n.message),$j("#msg-processing").hide(),$j("#contact-submit").show(),HHTGTM.pushFormSuccessGTMTrackingEvent("contact_submit_fail"))},error:function(n,t,i){$j("#msg-processing").hide();$j("#contact-submit").show();console.log(i);alert("Please check your entries and try again.");HHTGTM.pushFormSuccessGTMTrackingEvent("contact_submit_systemfail")}})}}